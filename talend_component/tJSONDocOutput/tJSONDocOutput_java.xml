<?xml version="1.0" encoding="UTF-8"?>

<COMPONENT> 
  <HEADER AUTHOR="Jan Lolling" COMPATIBILITY="ALL" PLATEFORM="ALL" RELEASE_DATE="20180730" SERIAL="" STARTABLE="false" STATUS="PROD" VERSION="14.0"> 
    <SIGNATURE/> 
  </HEADER>  
  <FAMILIES> 
    <FAMILY>JSON</FAMILY> 
  </FAMILIES>  
  <DOCUMENTATION> 
    <URL/> 
  </DOCUMENTATION>  
  <CONNECTORS> 
    <CONNECTOR CTYPE="FLOW" MIN_INPUT="0" MAX_INPUT="1" MIN_OUTPUT="0" MAX_OUTPUT="1"/>  
    <CONNECTOR CTYPE="ITERATE" MAX_OUTPUT="1" MAX_INPUT="1"/>  
    <CONNECTOR CTYPE="SUBJOB_OK" MAX_INPUT="1"/>  
    <CONNECTOR CTYPE="SUBJOB_ERROR" MAX_INPUT="1"/>  
    <CONNECTOR CTYPE="COMPONENT_OK"/>  
    <CONNECTOR CTYPE="COMPONENT_ERROR"/>  
    <CONNECTOR CTYPE="RUN_IF"/> 
  </CONNECTORS>  
  <PARAMETERS> 
    <PARAMETER NAME="JSON_DOCUMENT" FIELD="COMPONENT_LIST" NUM_ROW="1" FILTER="REGEXP:^(tJSONDocOutput|tJSONDocOpen|tJSONDocInput|tJSONDocExtractFields|tJSONDocMerg)(.)*" REQUIRED="true"/>  
    <PARAMETER NAME="LABEL_USE_PARENT_AS_CURRENT_OBJECT" FIELD="LABEL" COLOR="0;0;0" NUM_ROW="5" SHOW_IF="USE_PARENT_AS_CURRENT_OBJECT == 'true'"> 
      <DEFAULT>This feature only works if the referenced parent component is a tJSONDocOutput.</DEFAULT> 
    </PARAMETER>  
    <PARAMETER NAME="AUTOMATIC_PARENT_CHILD_RELATIONS" FIELD="CHECK" REQUIRED="true" NUM_ROW="10"> 
      <DEFAULT>false</DEFAULT> 
    </PARAMETER>  
    <PARAMETER NAME="PARENT_KEY_COLUMN" FIELD="PREV_COLUMN_LIST" REQUIRED="true" NUM_ROW="15" SHOW_IF="AUTOMATIC_PARENT_CHILD_RELATIONS == 'true'"/>  
    <PARAMETER NAME="DIE_IF_PARENT_NOT_EXISTS" FIELD="CHECK" REQUIRED="true" NUM_ROW="15" SHOW_IF="AUTOMATIC_PARENT_CHILD_RELATIONS == 'true'"> 
      <DEFAULT>true</DEFAULT> 
    </PARAMETER>  
    <PARAMETER NAME="USE_PARENT_AS_CURRENT_OBJECT" FIELD="CHECK" REQUIRED="true" NUM_ROW="20"> 
      <DEFAULT>false</DEFAULT> 
    </PARAMETER>  
    <PARAMETER NAME="PARENT_JSON_PATH" FIELD="TEXT" REQUIRED="true" NUM_ROW="20" SHOW_IF="USE_PARENT_AS_CURRENT_OBJECT == 'false'"> 
      <DEFAULT>"$"</DEFAULT> 
    </PARAMETER>  
    <PARAMETER NAME="LABEL_PARENT_JSON_PATH" FIELD="LABEL" COLOR="0;0;0" NUM_ROW="21"> 
      <DEFAULT>You can use here json path expression but without search function. Example: "bo.person[0].address[2][3].street[0]"</DEFAULT> 
    </PARAMETER>  
    <PARAMETER FIELD="CLOSED_LIST" NAME="OUTPUT_STRUCTURE" NUM_ROW="30" REQUIRED="true"> 
      <ITEMS DEFAULT="ARRAY_OF_OBJECTS"> 
        <ITEM NAME="ARRAY_OF_OBJECTS" VALUE="ARRAY_OF_OBJECTS"/>  
        <ITEM NAME="SINGLE_OBJECT" VALUE="SINGLE_OBJECT"/>  
        <ITEM NAME="ARRAY_OF_VALUES" VALUE="ARRAY_OF_VALUES"/>  
        <ITEM NAME="ARRAY_OF_ARRAYS" VALUE="ARRAY_OF_ARRAYS"/> 
      </ITEMS> 
    </PARAMETER>  
    <PARAMETER NAME="LABEL_ARRAY_OF_OBJECTS" FIELD="LABEL" COLOR="0;0;0" NUM_ROW="35" SHOW_IF="OUTPUT_STRUCTURE == 'ARRAY_OF_OBJECTS'"> 
      <DEFAULT>The field configuration below describes the json attributes of the objects to be added to the parent array.</DEFAULT> 
    </PARAMETER>  
    <PARAMETER NAME="LABEL_SINGLE_OBJECT" FIELD="LABEL" COLOR="0;0;0" NUM_ROW="35" SHOW_IF="OUTPUT_STRUCTURE == 'SINGLE_OBJECT'"> 
      <DEFAULT>The field configuration below describes the json attributes of the object to be set to the parent.</DEFAULT> 
    </PARAMETER>  
    <PARAMETER NAME="LABEL_ARRAY_OF_VALUES" FIELD="LABEL" COLOR="0;0;0" NUM_ROW="35" SHOW_IF="OUTPUT_STRUCTURE == 'ARRAY_OF_VALUES'"> 
      <DEFAULT>The values from the schema (should only contain one column) will be added as simple values or as json objects to the parent array. Omit empty attributes means in this case, do not add null to the array.</DEFAULT> 
    </PARAMETER>  
    <PARAMETER NAME="LABEL_ARRAY_OF_ARRAYS" FIELD="LABEL" COLOR="0;0;0" NUM_ROW="35" SHOW_IF="OUTPUT_STRUCTURE == 'ARRAY_OF_ARRAYS'"> 
      <DEFAULT>The values from the schema columns will be added row by row as array to the parent array.</DEFAULT> 
    </PARAMETER>  
    <PARAMETER NAME="COLUMN_CONFIG" FIELD="TABLE" NUM_ROW="40" NB_LINES="5"> 
      <ITEMS BASED_ON_SCHEMA="true"> 
        <ITEM NAME="ATTRIBUTE_ALIAS" FIELD="TEXT" SHOW_IF="OUTPUT_STRUCTURE != 'ARRAY_OF_VALUES'"/>  
        <ITEM NAME="USE" FIELD="CHECK"/>  
        <ITEM NAME="IS_DOC" FIELD="CHECK"/>  
        <ITEM NAME="OMIT_ATTRIBUTE_IF_NULL" FIELD="CHECK"/> 
      </ITEMS> 
    </PARAMETER>  
    <PARAMETER NAME="SCHEMA" FIELD="SCHEMA_TYPE" REQUIRED="true" NUM_ROW="50"> 
      <DEFAULT/> 
    </PARAMETER> 
  </PARAMETERS>  
  <ADVANCED_PARAMETERS> 
    <PARAMETER NAME="KEYS_AS_SQL_IN_CLAUSE_REPLACEMENT" FIELD="TEXT" REQUIRED="true" NUM_ROW="20"> 
      <DEFAULT>"is not null"</DEFAULT> 
    </PARAMETER>  
    <PARAMETER NAME="RELEASE_LABEL_20180730" FIELD="LABEL" COLOR="0;0;0" NUM_ROW="900">
      <DEFAULT>Release: 14.0 build at: 20180730</DEFAULT>
    </PARAMETER>
  </ADVANCED_PARAMETERS>  
  <CODEGENERATION> 
    <IMPORTS/> 
  </CODEGENERATION>  
  <RETURNS> 
    <RETURN AVAILABILITY="AFTER" NAME="NB_LINE" TYPE="id_Integer"/>  
    <RETURN AVAILABILITY="AFTER" NAME="CURRENT_NODE" TYPE="id_Object"/>  
    <RETURN AVAILABILITY="FLOW" NAME="CURRENT_PATH" TYPE="id_String"/>  
    <RETURN AVAILABILITY="AFTER" NAME="KEYS_AS_SQL_IN_CLAUSE" TYPE="id_String"/> 
  </RETURNS> 
</COMPONENT>
